{"ast":null,"code":"","map":{"version":3,"names":[],"sources":["C:/Users/44773/Desktop/Assingment/components/SendMessage.js"],"sourcesContent":["// import React, { Component } from 'react';\r\n// import { Text, View, TextInput, Button, AsyncStorage } from 'react-native';\r\n\r\n// class SendMessageScreen extends Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//     this.state = {\r\n//       message: '',\r\n//       chat_id: null, // Add your chat id here or fetch it from your server\r\n//       error: null,\r\n//     };\r\n//   }\r\n\r\n//   async SendMessage(chatId, message) {\r\n//     try {\r\n//       const response = await fetch(`http://localhost:3333/api/1.0.0/chat/${chat_id}/message`, {\r\n//         method: 'POST',\r\n//         headers: {\r\n//           'Content-Type': 'application/json',\r\n//           'X-Authorization': await AsyncStorage.getItem('whatsthat_session_token'),\r\n//         },\r\n//         body: JSON.stringify({\r\n//           message: message,\r\n//         }),\r\n//       });\r\n\r\n//       if (response.status === 200) {\r\n//         console.log('Message sent');\r\n//       } else if (response.status === 400) {\r\n//         console.log('Bad Request');\r\n//       } else if (response.status === 401) {\r\n//         console.log('Unauthorised');\r\n//         await AsyncStorage.removeItem('whatsthat_session_token');\r\n//         await AsyncStorage.removeItem('whatsthat_user_id');\r\n//         this.props.navigation.navigate('Login');\r\n//       } else if (response.status === 403) {\r\n//         console.log('Forbidden');\r\n//       } else if (response.status === 404) {\r\n//         console.log('Not Found');\r\n//       } else {\r\n//         throw 'Server Error';\r\n//       }\r\n//     } catch (error) {\r\n//       this.setState({ error: error });\r\n//     }\r\n//   }\r\n\r\n//   handleMessageChange = (text) => {\r\n//     this.setState({ message: text });\r\n//   };\r\n\r\n//   handleSendMessage = () => {\r\n//     this.SendMessage(this.state.chatId, this.state.message);\r\n//     this.setState({ message: '' }); // Clear the message input\r\n//   };\r\n\r\n//   render() {\r\n//     const { message } = this.state;\r\n\r\n//     return (\r\n//       <View>\r\n//         <TextInput\r\n//           value={message}\r\n//           onChangeText={this.handleMessageChange}\r\n//           placeholder=\"Type your message here...\"\r\n//         />\r\n//         <Button\r\n//           title=\"Send Message\"\r\n//           onPress={this.handleSendMessage}\r\n//         />\r\n//       </View>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export default SendMessageScreen;\r\n"],"mappings":""},"metadata":{},"sourceType":"script","externalDependencies":[]}